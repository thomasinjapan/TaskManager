{
  "version": 3,
  "sources": ["../../src/counter.ts"],
  "sourcesContent": ["\uFEFF/**  src/counter.ts  **/\r\nimport { EventEmitter } from './baseclasses/EventHandling.js';\r\n\r\nexport namespace Counter {\r\n    export type payloadChanged = {\r\n        oldCount: number;\r\n        newCount: number;\r\n        delta: number;\r\n    };\r\n}\r\n\r\nexport class Counter extends EventEmitter {\r\n    private _count: number;\r\n\r\n    /** list of all valid events **/\r\n    public EVENT_CHANGED: string = 'changed';\r\n\r\n    constructor(initialValue: number = 0) {\r\n        super();\r\n        this._count = initialValue;\r\n    }\r\n\r\n    get count(): number {\r\n        return this._count;\r\n    }\r\n\r\n    increment(): number {\r\n        this._count += 1;\r\n        this.emit(this.EVENT_CHANGED, <Counter.payloadChanged>{ newCount: this.count , oldCount: this.count-1, delta: 1});\r\n        return this._count;\r\n    }\r\n\r\n    decrement(): number {\r\n        this._count -= 1;\r\n        this.emit(this.EVENT_CHANGED, <Counter.payloadChanged>{ newCount: this.count, oldCount: this.count + 1, delta: -1 });\r\n        return this._count;\r\n    }\r\n\r\n    reset(): number {\r\n        var oldCount = this._count;\r\n        this._count = 0;\r\n        this.emit(this.EVENT_CHANGED, <Counter.payloadChanged>{ newCount: this.count, oldCount: oldCount, delta: this.count-oldCount });\r\n        return this._count;\r\n    }\r\n}"],
  "mappings": "AACA,SAAS,oBAAoB;AAUtB,MAAM,gBAAgB,aAAa;AAAA,EAMtC,YAAY,eAAuB,GAAG;AAClC,UAAM;AAHV;AAAA,SAAO,gBAAwB;AAI3B,SAAK,SAAS;AAAA,EAClB;AAAA,EAEA,IAAI,QAAgB;AAChB,WAAO,KAAK;AAAA,EAChB;AAAA,EAEA,YAAoB;AAChB,SAAK,UAAU;AACf,SAAK,KAAK,KAAK,eAAuC,EAAE,UAAU,KAAK,OAAQ,UAAU,KAAK,QAAM,GAAG,OAAO,EAAC,CAAC;AAChH,WAAO,KAAK;AAAA,EAChB;AAAA,EAEA,YAAoB;AAChB,SAAK,UAAU;AACf,SAAK,KAAK,KAAK,eAAuC,EAAE,UAAU,KAAK,OAAO,UAAU,KAAK,QAAQ,GAAG,OAAO,GAAG,CAAC;AACnH,WAAO,KAAK;AAAA,EAChB;AAAA,EAEA,QAAgB;AACZ,QAAI,WAAW,KAAK;AACpB,SAAK,SAAS;AACd,SAAK,KAAK,KAAK,eAAuC,EAAE,UAAU,KAAK,OAAO,UAAoB,OAAO,KAAK,QAAM,SAAS,CAAC;AAC9H,WAAO,KAAK;AAAA,EAChB;AACJ;",
  "names": []
}
